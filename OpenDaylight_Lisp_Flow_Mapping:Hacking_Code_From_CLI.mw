{| align="right" border="1"
|align="center"|'''Guide Contents'''
|-
|[[OpenDaylight_Lisp_Flow_Mapping:Architecture|Architecture Overview]]<br>[[OpenDaylight_Lisp_Flow_Mapping:Java_API|Java API]]<br>[[OpenDaylight_Lisp_Flow_Mapping:REST_API|REST API]]<br>[[OpenDaylight_Lisp_Flow_Mapping:SimultaneousReleasePlan2013|Release Plan]]<br>[[OpenDaylight_Lisp_Flow_Mapping:ReleasePlan2013_Detailed|Detailed Release Plan (2013)]]<br>[[OpenDaylight_Lisp_Flow_Mapping:Hacking_Code_From_CLI|Hacking the Code From CLI]]<br>[[OpenDaylight_Lisp_Flow_Mapping:Main|Back to LISP Flow Mapping Main]]
|}

== Gerrit Setup ==
Code reviews are enabled through Gerrit. [[OpenDaylight Controller:Gerrit Setup|Set up Gerrit]] for use.

Note: You will need to perform the [[OpenDaylight Controller:Gerrit Setup|Gerrit Setup]] before you can access git via
ssh as described below.

== Pull code via git CLI ==
Pull the code by cloning the LispFlowMapping repository.
<pre>
git clone ssh://<username>@git.opendaylight.org:29418/lispflowmapping.git
</pre>

(or if you just want to do an anonymous git clone, you can use:

<pre>
git clone https://git.opendaylight.org/gerrit/p/lispflowmapping.git
</pre>
)
== Setup Gerrit Change-id Commit Msg Hook==
This command inserts a unique Change-Id tag in the footer of a commit message. This step is optional but highly recommended for tracking changes.

<pre>
cd lispflowmapping
scp -p -P 29418 <username>@git.opendaylight.org:hooks/commit-msg .git/hooks/
chmod 755 .git/hooks/commit-msg
</pre>

== Hack the code ==
The following tasks are used to help you hack the code. 
=== Setup Eclipse ===
<pre>
1. Run Eclipse (Kepler is the current version).
2. Open Git Repository perspective.
3. Add an existing repository, and choose the Lisp Flow Mapping repository that was pulled earlier.
4. Import existing Maven projects, and choose the following under the lispflowmapping directory:
    * api/pom.xl
    * implementation/pom.xml
</pre>

=== Build the code ===

<pre>
mvn clean install
</pre>

* To run without unitests you can skip building those tests running the following:

<pre>mvn clean install -DskipTests 
/* instead of "mvn clean install" */</pre>

=== Run the controller ===

<pre>
cd target/lispflowmapping-distribution-0.1.0-SNAPSHOT-osgipackage/opendaylight/
./run.sh
</pre>

And point your browser at http://localhost:8080/

[[File:OpenDaylight - Login.jpg]]

There is much much more complete documentation on running the controller in the [[OpenDaylight Controller:Installation|Installation Guide]].

== Commit the code via git CLI ==
Note: To be accepted, all code must come with a [http://elinux.org/Developer_Certificate_Of_Origin  developer certificate of origin] as expressed by having a Signed-off-by.
This means that you are asserting that you have made the change and you understand that the work was done as part of an open-source license. 

<pre>
Developer's Certificate of Origin 1.1

        By making a contribution to this project, I certify that:

        (a) The contribution was created in whole or in part by me and I
            have the right to submit it under the open source license
            indicated in the file; or

        (b) The contribution is based upon previous work that, to the best
            of my knowledge, is covered under an appropriate open source
            license and I have the right under that license to submit that
            work with modifications, whether created in whole or in part
            by me, under the same open source license (unless I am
            permitted to submit under a different license), as indicated
            in the file; or

        (c) The contribution was provided directly to me by some other
            person who certified (a), (b) or (c) and I have not modified
            it.

        (d) I understand and agree that this project and the contribution
            are public and that a record of the contribution (including all
            personal information I submit with it, including my sign-off) is
            maintained indefinitely and may be redistributed consistent with
            this project or the open source license(s) involved.
</pre>

Mechanically you do it this way
<pre>
git commit --signoff
</pre>

You will be prompted for a commit message, and if you are fixing a buzilla bug, you can add that to your commit message as well and it will get linked from the Gerrit:

<pre>
Fix for bug 2.

Signed-off-by: Ed Warnicke <eaw@cisco.com>

# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch develop
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#       modified:   README
#
</pre>
== Pull the code changes via git CLI ==
Use git pull to get the latest changes from the remote repository
<pre>
git pull origin HEAD:refs/for/develop
</pre>

== Push the code via git CLI ==
Use git push to push your changes back to the remote repository.

<pre>
git push  origin HEAD:refs/for/develop
</pre>

You will get a message pointing you to your gerrit request like:

<pre>
remote: Resolving deltas: 100% (2/2)
remote: Processing changes: new: 1, refs: 1, done    
remote: 
remote: New Changes:
remote:   http://git.opendaylight.org/gerrit/64
remote: 
</pre>

== Seeing your change in Gerrit ==

Follow the link you got above to see your commit in Gerrit:

[[File:Gerrit Code Review.jpg|700px]]

Note the Jenkins Controller User has verified your code, and at the bottom is a link to the Jenkins build.

Once your code has been reviewed and submitted by a committer it will be merged into the authoritative repo, which would look like this:

[[File:Gerrit Merged.jpg|700px]]

== What to do if your Firewall blocks port 29418 ==

There have been reports that many corporate firewalls block port 29418.  If that's the case, please follow the [[OpenDaylight Controller:Setting up HTTP in Gerrit|Setting up HTTP in Gerrit]] instructions and use git URL:

<pre>
git clone https://<your_username>@git.opendaylight.org/gerrit/p/lispflowmapping.git
</pre>

You will be prompted for the password you generated in [[OpenDaylight Controller:Setting up HTTP in Gerrit|Setting up HTTP in Gerrit]].

All other instructions on this page remain unchanged :)



To download pre-built images with ODP bootstraps see the following Github project:

* [https://github.com/nerdalert/OpenDaylight-Lab  Pre-Built OpenDaylight VM Images]

Key methods for early community understanding, assistance and involvement:

* [https://lists.opendaylight.org/mailman/listinfo  Joining the ODP Listserv ]

* [[Tech Work Stream:Main]] Listening to the weekly Technical Work Stream meeting.

* There is an IRC channel #opendaylight on irc.freenode.net


[[Category:OpenDaylight LispFlowMapping]]
