[[openflow-protocol-library-links]]
= OpenFlow Protocol Library: Links

* Project Proposals:Openflow Protocol Library[Project Proposals:Openflow
Protocol Library]
* Openflow Protocol Library:RELEASE Plan 2013[Openflow Protocol
Library:RELEASE Plan 2013]
* Openflow Protocol Library:PROJECT Plan 2013[Openflow Protocol
Library:PROJECT Plan 2013]

[[openflow-protocol-library-insights]]
= OpenFlow Protocol Library: Insights

[[architecture-and-design]]
== Architecture and Design

image:Openflow_Protocol_Library.pdf[Openflow_Protocol_Library.pdf,title="Openflow_Protocol_Library.pdf"]

[[common-principles]]
=== Common principles

* Serialization (message coding / decoding) logic is separated from
implementation of transfer objects.

* All transfer objects returned from this library are immutable.

* Input/Output processing is done via processing pipeline, which could
be modified in runtime based on session characteristics (e.g. support of
multiple binary protocol versions).

[[components]]
=== Components

[[public-api]]
==== Public API

Set of interfaces and builders for immutable data transfer objects
representing Openflow Protocol structures.

Transfer objects and service APIs are infered from several YANG models
using code generator to reduce verbosity of definition and repeatibility
of code.

The following YANG modules are defined:

* openflow-types - defines common Openflow specific types
* openflow-instruction - defines base Openflow instructions
* openflow-action - defines base Openflow actions
* openflow-extensible-match - defines Openflow OXM match
* openflow-protocol - defines Openflow Protocol messages

This modules also reuse types from following YANG modules:

* ietf-inet-types - IP adresses, IP prefixes, IP-protocol related types
* ietf-yang-types - Mac Address, etc.

The use of predefined types is to make APIs contracts more safe, better
readable and documented (using MacAddress instead of byte array...)

[[pipeline-factory]]
==== Pipeline Factory

Creates channel processing pipeline based on configuration and support.

[[frame-decoder]]
==== Frame Decoder

Parses input stream into message frames for further processing.

[[message-codec]]
==== Message CoDec

Baseline message decoder is responsible for decoding messages and
structures in Java Data Transfer Objects defined in library API, which
are send / published to upstream handler.

Message coding part is responsible for serializing API Data Transfer
Objects into byte message frames (byte buffers) which are then send to
downstream handler.

[[pipeline-facade]]
==== Pipeline Facade

Provides a facade on top of pipeline, which hides netty.io specifics
from consumers (clients) of library. Provides a set of methods to
register for incoming messages and to send messages to particular
channel / session.

[[spi]]
==== SPI

Service provider interface to define serializers and deserializers for
additional match fields, instructions, actions and messages which could
be added by third-party bundle.

[[testing]]
= Testing

* Openflow Protocol Library:Testing[Openflow Protocol Library:Testing]

[[testing-environment]]
== Testing environment

* Openflow Protocol Library:OpenVirtualSwitch[Openflow Protocol
Library:OpenVirtualSwitch]

