This page describes how to set up a simple three tier network.  In it there are three virtual networks and policies are configured to support connecitivty between virtual networks 1 and 2 and also between virtual networks 2 and 3 (but not directly between virtual networks 1 and 3).

=== Create Networks ===

Issue a POST request to http://<odmc address>:8080/controller/nb/v2/neutron/networks using the following JSON body:

{ "networks": 
 [{ "id": "<uuid 1>", "name": "<name 1>", "tenant_id": "<tenant uuid>" }, 
 { "id": "<uuid 2>", "name": "<name 2>", "tenant_id": "<tenant uuid>"  },
 { "id": "<uuid 3>", "name": "<name 3>", "tenant_id": "<tenant uuid>" }
 ]}

The networks can be checked via a GET request to http://<odmc address>:8080/controller/nb/v2/opendove/odmc/networks.  Make note of the network_id that matches up with the network name as these will be used later.

=== Create Subnets ===

Each of the networks has a separate subnet defined for VMs.  Issue a POST request to http://<odmc address>:8080/controller/nb/v2/neutron/subnets
with the following JSON body:

{ "subnets": [
{ "id": "<subnet uuid 1>",
  "network_id": "<network uuid 1>",
  "name": "<subnet name 1>",
  "gateway_ip": "<subnet gw 1>",
  "cidr": "<subnet cidr 1>",
  "tenant_id": "<tenant uuid>" },
{ "id": "<subnet uuid 2>",
  "network_id": "<network uuid 2>",
  "name": "test subnet 2",
  "gateway_ip": "<subnet gw 2>",
  "cidr": "<subnet cidr 2>",
  "tenant_id": "<tenant uuid>" },
{ "id": "<subnet uuid 3>",
  "network_id": "<network uuid 3>",
  "name": "test subnet 3",
  "gateway_ip": "<subnet gw 3>",
  "cidr": "<subnet cidr 3>",
  "tenant_id": "<tenant uuid>" }
] }
