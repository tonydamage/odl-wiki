


= OpenFlow Protocol Library: Links =

* [[Project Proposals:Openflow Protocol Library]]
* [[Openflow Protocol Library:RELEASE Plan 2013]]
* [[Openflow Protocol Library:PROJECT Plan 2013]]


=OpenFlow  Protocol Library: Insights=

==Architecture and Design==
===Key objectives=== 
* Simultaneous support of multiple versions of wire-protocol 
* Extensibility to support later OpenFlow versions 
* Immutable transfer objects generation 
* Scalable non-blocking implementation 
* Pipeline processing 
* Scatter buffer 
* TLS support 

===Common principles===

* Serialization (message coding / decoding) logic is separated from implementation of transfer objects.

* All transfer objects returned from this library are immutable.

* Input/Output processing is done via processing pipeline, which could be modified in runtime based on session characteristics (e.g. support of multiple binary protocol versions). 
===Components===

====Public API====
Set of interfaces and builders for immutable data transfer
objects representing Openflow Protocol structures.
  
Transfer objects and service APIs are infered from several 
YANG models using code generator to reduce verbosity of 
definition and repeatibility of code. 

The following YANG modules are defined:
* openflow-types - defines common Openflow specific types
* openflow-instruction - defines base Openflow instructions
* openflow-action - defines base Openflow actions
* openflow-augments - defines object augmentations
* openflow-extensible-match - defines Openflow OXM match
* openflow-protocol - defines Openflow Protocol messages
* system-notifications - defines system notification objects
 
This modules also reuse types from following YANG modules:
* ietf-inet-types - IP adresses, IP prefixes, IP-protocol related types
* ietf-yang-types - Mac Address, etc. 
 
The use of predefined types is to make APIs contracts more 
safe, better readable and documented (using MacAddress instead 
of byte array...)

===Channel pipeline===

Creates channel processing pipeline based on configuration and 
support.

==== Switch Connection Provider ====

==== TCP Handler ====

==== Publishing Channel Initializer ====

==== Idle State Handler ====

==== TLS Detector ====

==== TLS Handler ====

==== OF Frame Decoder ====
Parses input stream into message frames for further processing.

==== OF Version Detector ====

==== OF Decoder ====

==== OF Encoder ====

==== Delegating Inbound Handler ====

==== Connection Adapter ====
Provides a facade on top of pipeline, which hides netty.io specifics
from consumers (clients)  of library. Provides a set of methods
to register for incoming messages and to send messages to
particular channel / session.


==== Message CoDec ====

Baseline message decoder is responsible for decoding messages and
structures in Java Data Transfer Objects defined in library API,
which are send / published to upstream handler.

Message coding part is responsible for serializing API Data Transfer 
Objects into byte message frames (byte buffers) which are then send to 
downstream handler.

==== SPI ====

Service provider interface to define
serializers and deserializers for additional
match fields, instructions, actions and
messages which could be added by third-party 
bundle.


= Testing =
* [[Openflow Protocol Library:Testing]]

== Testing environment ==

* [[Openflow Protocol Library:OpenVirtualSwitch]]


=Documentation=
* [[Openflow Protocol Library:Documentation]]


= Release Notes =

* [[Openflow Protocol Library:Release Notes]]
