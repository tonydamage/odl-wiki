= OpenDaylight Controller Driver (ODC Driver) =
The ODC driver module is a sub component of the [[OpenDaylight_Virtual_Tenant_Network_(VTN):VTN_Coordinator|VTN coordinator]] and provides mechanisms to provision and monitor virtual networks and monitor physical networks in the OpenDaylight controller. ODC driver is started during startup of [[OpenDaylight_Virtual_Tenant_Network_(VTN):VTN_Coordinator|VTN coordinator]]
It consists of two sub components
:*[[#Common_Driver_Framework_(CDF)|Common Driver Framework (CDF)]]
:*[[#ODC_Driver|ODC Driver]]

== Block Diagram ==

[[File:ODC_Driver.PNG]]

== Common Driver Framework (CDF) ==

CDF provides a controller independent processing of the messages sent from [[OpenDaylight_Virtual_Tenant_Network_(VTN):Unified Provider Logical Layer (UPLL)|UPLL]] and [[OpenDaylight_Virtual_Tenant_Network_(VTN):Unified Provider Physical Layer (UPPL)|UPPL]] modules.

The main functions of this module are
:*Isolate the driver modules from processing messages sent by [[OpenDaylight_Virtual_Tenant_Network_(VTN):Unified Provider Logical Layer (UPLL)|UPLL]] and [[OpenDaylight_Virtual_Tenant_Network_(VTN):Unified Provider Physical Layer (UPPL)|UPPL]]modules.
:*Provide interfaces to the driver module to install their commands for various operations on the controller (eg: VTN creation).
:*Provide controller management and support different types of controllers.
:*Parse messages and invoke driver methods with appropriate parameters.
:*Provide interface for different drivers to install command handlers.
:*Simplify transaction processing with simplified transaction functions for vote and commit operations.
:*Support for parallel update operation across many controllers.
:*The framework can be extended to support all driver modules in a common daemon or individual daemons.

CDF is implemented using the following modules
       vtndrvintf
       vtncacheutil

=== vtndrvintf ===
:* Implements the features of CDF listed above.

==== Class Details ====
{| class="wikitable"
|-
! Class Name !! Description
|-
| VtnDrvIntf || Inherited from Module class and provides the entry point for messages from platform.
Provides interfaces to add drivers for different types of controllers.
|-
| KtHandler || Abstract interface for handling different message types.
|-
| KtRequestHandler || Template implementation of KtHandler to process all messages from platform.
|-
| DriverTxnInterface || Common transaction handling for drivers
|-
| ControllerFramework || Provides methods to add/delete/update Controllers to the VTN Coordinator.
Periodic monitoring of controllers.
|}

=== vtncacheutil ===
:*  Utility module that provides interfaces for caching configuration entries to validate as a whole and then later commit

==== Class Details ====
{| class="wikitable"
|-
! Class Name !! Description
|-
| keytree || Cache container that provides interfaces to append config to cache.
|-
| CommonIterator ||  Provides methods to iterate the elements in cache, the option to iterate in VTN hierarchical order is also available.
|}

== ODC Driver ==
:* The ODC driver module implements the interfaces for controller connection management and virtual network provisioning and monitoring in the ODC controller.
:* The request will be translated to the appropriate REST APIs and sent to the controller.
:* Capable of translating the VTN Operations as Commands to VTN Manager in the ODL.

The above features are implemented using these modules
   restjsonutil
   odcdriver

=== restjsonutil ===
:* Utility module that provides services for JSON build/parse and handling REST Request/Response.
==== Class Details ====
{| class="wikitable"
|-
! Class Name !! Description
|-
| HttpClient || Interface to set up and maintain a connection to an HTTP Web service
|-
| RestClient || Interface to handle request/response on a REST Interface
|-
| JsonBuildParse || Interface for building/parsing the JSON strings for communication 
|}

=== odcdriver ===
:* Implements the interfaces exposed by CDF
:* Registers the driver for controllers of type : ODC (OpenDaylight Controllers)
:* Uses the restjsonutil to communicate

==== Class Details ====
{| class="wikitable"
|-
! Class Name !! Description
|-
| OdcModule || Module implementation of odc driver, registers itself as diver for controllers of ODL type.
|-
| ODCController || Implements the various methods according to the features of the ODL Controller.
|-
| ODCVTNCommand || Handle Create/Update/Delete/Read requests for VTN.
|-
| ODCVBRCommand || Handle Create/Update/Delete/Read requests for vBridge.
|-
| ODCVBRIfCommand || Handle Create/Update/Delete/Read requests for vBridge interfaces.
|}



[[Category:OpenDaylight Virtual Tenant Network]]
