==Introduction==
MdHostTracker is an attempt to bring the ideas of the AD-SAL hosttracker and hosttracker_new bundles to the MD-SAL. See below for a guide to pulling and running the MdHostTracker code within the [[L2 Switch:Main|l2switch]] base distribution.

==User Guide==
The MdHostTracker code is currently hosted on github as a standalone maven project, you can clone the code:
    git clone https://github.com/nilok/betterhosttracker.git
Once you've cloned the code you can build it:
    cd betterhosttracker/mdhosttracker
    mvn clean install

You should also be able to import the code to Eclipse with no problems via Import > Existing Maven Project(s), use the pom.xml in the top level directory (mdhosttracker/pom.xml). If for some reason you get errors resolving generated classes add the generated source path to the project's source directories via Project Preferences > Java Build Path > Source > Add folder... The path you're looking for is ''src/main/yang-gen-code''.

MdHostTracker depends on the [[L2 Switch:Main|l2switch]] addresstracker for its observations, so we will run within the [[L2 Switch:Main|l2switch]] distribution for testing. To pull the l2switch code:
    git clone https://git.opendaylight.org/gerrit/p/l2switch.git
Build l2switch as you usually would (mvn clean install). Now we need to drop the MdHostTracker jars into the l2switch distribution.
    cp ~/path/to/mdhosttracker/mdhosttracker/implementation/target/mdhosttracker-impl-0.0.1-SNAPSHOT.jar ~/path/to/l2switch/distribution/base/target/distributions-l2switch-base-0.1.0-SNAPSHOT-osgipackage/opendaylight/plugins
    cp ~/path/to/mdhosttracker/mdhosttracker/model/target/mdhosttracker-model-0.0.1-SNAPSHOT.jar ~/path/to/l2switch/distribution/base/target/distributions-l2switch-base-0.1.0-SNAPSHOT-osgipackage/opendaylight/plugins

Now you're ready to run the distribution, to test with mininet run
    ./run.sh -start
    sudo mn --controller remote
To see learned hosts visit: http://localhost:8080/restconf/operational/host-tracker-service:hosts/
