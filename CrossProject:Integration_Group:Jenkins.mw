== Maintainer ==
Carol Sanders (carol.sanders@vyatta.com) and Luis Gomez (luis.gomez@ericsson.com)

== Introduction ==
We plan to use Jenkins to trigger distributions and packages buils as well as perform system test (CSIT).

== Jenkins Strategy ==
This is what we would like to achieve in Jenkins:

=== Jenkins goals ===
* Build the release vehicles whenever we have new distribution code or opendaylight code
* Build the linux packages (Debian, Feadora) whenever there is new packaging code
* Run system test whenever we have new test code, distribution code or opendaylight code
* Run package test whenever there is new packaging code
* System test bed has always latest successful test code and controller artifacts
* We do not upload release artifacts to Nexus if they do not pass system test

=== Jenkins triggers and tasks ===
 
Trigger 1) New patch in /distributions folder ->  
* Verify tasks: build distributions, upload release artifacts to controller VM, run system test, restore last successful release artifact in controller VM, send code for reviewing
* Merge tasks: merge to master, build distributions, upload release artifacts to controller VM, run system test, if fail restore last successful release artifacts in controller VM, if pass upload release artifacts to Nexus

Trigger 2) New patch in /packaging folder ->  
* Verify tasks: build package, upload package to controller VM, run package test, send code for reviewing
* Merge tasks: merge to master, build package, upload package to controller VM, run package test, if pass upload package artifacts to Nexus
 
Trigger 3) New patch in /test folder ->
* Verify tasks: upload patch test code in Test tools VM, run system test, restore master code in Test tools VM, send code for reviewing
* Merge tasks: merge to master, upload master test code in Test tools VM, run system test
 
Trigger 4) Change (merge) in other OpenDaylight project ->
* Integration tasks: build distributions, upload release artifacts to controller VM, run system test , if fail restore last successful release artifacts in controller VM, if pass upload release artifacts to Nexus

=== Jenkins task distribution ===

* Master Jenkins running in OpenDaylight: distributions and packages build and controller SW + test code upload functions
* Slave Jenkins running in our Test Tools VM: run system and packaging test

=== Jenkins jobs ===

* Distribution Verify
* Distribution Merge
* Packaging Verify
* Packaging Merge
* Test Verify
* Test Merge
* ODL Integration
* System Test (CSIT) to run in Slave Jenkins
* Packagin Test to run in Slave Jenkins

== Using Jenkins at OpenLab  ==
1. Connect to the Lab at Ericsson using access instructions [[CrossProject:Integration_Group:Test_Lab|here]] <br/>
2. Make sure there is no controller or mininet processes running. Check Lab instructions [[CrossProject:Integration_Group:Lab_Walkthrough|here]] <br/>
3. On local computer, start SSH connection with SSH forwarding for Jennkins http port (TCP 8080):
<pre>[user@laptop ~]$ ssh -L 8080:10.125.136.37:8080 user@server2.verkstad.net</pre>
4. Open browser on local computer, use loopback IP and local port configured on last step: 

[[File:Jenkins_Open.JPG]|600px] <br/><br/>

[[Category:Integration Group]]
