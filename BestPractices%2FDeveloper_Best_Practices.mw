__TOC__

= Overview =
The following wiki page will document the recommended best practices as recommended by the [[TSC:Main|TSC]] committee.

'''This document is currently a work in progress and has not yet been ratified by the TSC committee. Please engage the mailing lists, Discussion Tab on this Page, and the TSC meeting to provide input on the below recommendations.'''

= Recommended Best Practices =
The following are the proposed recommended best practices for developers in all projects. 

* '''The intent is to find a balance between project autonomy, consistency in quality, and ability for new comers to quickly come up to speed and get involved.'''
* Projects should be free to choose how they implement these recommendations. However the implementation a project chooses should be documented clearly for all developers to see.

== Recommendation: Build Time Testing ==

Build time tests are tests which run as part of the building of your source code. Often referred to as "Unit tests" because most build time tests test small units of code or work, and are intended to run quickly.

==== Justification ====
Build time testing is intended to give developers (and everyone) a level of confidence in the code base to enable rapid development (including new features, bug fixes, refactoring etc).
==== Request ====
Ensure we have an adequate number build-time tests to enable developers to quickly and easily get notified of a regression in functionality do to an enhancement or refactoring of logic. We should strive to ensure all functionality is covered in such tests. Specifically, a build time tests should:
# Run at build time
# Run quickly
# Contain assertions to validate the functionality under test
==== Verification ====
It will be the responsibility of the individual projects to refine and define the implementation of the following recommendations. The committers on the respective projects will need to encourage and monitor commits 

''If code is the coin of our realm, tests are the gold in Fort Knox that give the currency its value.''

==== Questions ====

Use this section to catalog outstanding questions / discussion points

*[Chris Wright] And...defining functionality is, well, tough...Any thoughts on granularity?  I think you're talking functional test vs. unit test.
:*[Devin]You are correct there are two distinct category of tests. My point here though was to make sure we that we provide tests for all of the functionality - not just 25 % or 30% of it. We want to make sure we cover all of the logic (otherwise why bother writing the logic at all?).
*[Chris Wright] Can you clarify what you mean by "Contains assertions to validate the functionality under test"?
:*This was my attempt to state that simply calling a method from a test for example is not a high quality test. A high quality test should define assertions which actually validate the logic is working as desired (which of course means we have a well-defined list of "acceptance criteria" which tells you what the expected behavior is.
*[David Bainbridge] I would love to see that each bug is associated with a test that demonstrates the bug so that we build up a library of regression tests.
*[David Bainbridge] Have to admit I am a bit surprised that code coverage metrics and requirements are not part of the merge requirements, i.e. a build is considered failed unless tests cover x% of the code. I understand that this doesn't guarantee that the tests that are provided test the important code, even are good tests, but it does mean most code paths are run and something is better than nothing. 
:* [Devin] This is where we start to run into the murky ground of project autonomy vs mandates - I would propose that we leave this up to projects to decide (though we can provide a set of possible recommendations).

== Recommendation: Comments ==
Commenting source code is intended to enable future readers/editors for the code to quickly understand and come up to speed on the logic in order to facilitate a community where anyone can read and modify any code.
==== Justification ==== 
Comments in code is intended to help readers of the code to quickly gain an understanding of the purpose of a file, class, method, etc. There is no way to avoid having to read code, but with a few well placed comments in classes you can quickly speed up developers understanding of the code.
==== Request ====
Ensure the following code is commented:
# Line level comments - any code which is complex or doing something out of the ordinary.
# File level comments - any file which has multiple purposes, or whose name doesnâ€™t clearly state its sole purpose.

==== Verification ====
It will be the responsibility of the individual projects to refine and define the implementation of the above recommendations. The committers on the respective projects will need to encourage and monitor commits.
