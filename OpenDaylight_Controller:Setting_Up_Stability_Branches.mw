With the release of hydrogen, it is necessary that all project create a stable/hydrogen branch to support bug fixes in both the master branch and any stable branch.  This page walks the reader through how to do this, using the gerrit and jenkins web interfaces and the OpenDOVE project as a sample.

===Step 1: Create branch in Gerrit===

* In Gerrit, select Projects/List
* Select your project and then Branches

[[File:Stability Screenshot1.png]]

* At the bottom, enter "stable/hydrogen" and the SHA of revision to branch from

[[File:Stability Screenshot2.png]]

===Step 2: Update Pom Files===

* Checkout new branch
* Edit pom files and update versions and dependencies by adding "-1-SNAPSHOT"

[[File:Stability_Screenshot3.png]]

[[File:Stability Screenshot4.png]]

*Commit and then push to refs/for/stable/hydrogen

===Step 3: Reconfigure Jenkins Merge Job for Master Branch Only===

Today's Jenkins *-merge job are set up to run regardless of the branch that is merged to.  This has the side effect of making archived artifcats (e.g. enunciated APIs and javadocs) ephermeal in that as development continues, the apis of a stable branch can be lost.  To avoid this, we reconfigure the existing Jenkin's merge job to work (and trigger from) the master branch only.

*select *-merge job for your project and the configure link
*Change the branch to build from origin/$GERRIT_BRANCH to origin/master
[[File:Stability Screenshot5.png]]

*Change the branch of the gerrit trigger from ** to **/master
[[File:Stability_Screenshot6.png]]

*Click Save or Apply

===Step 4: Create new jenkins merge Job for Stable/Hydrogen Branch===

*Create new jenkins job (call it *-stable-hydrogen-merge) and choose *-merge to copy from
*Change the branch to build from origin/master to origin/stable/hydrogen
[[File:Stability Screenshot7.png]]

*Change the branhc for the gerrit trigger from **/master to **/stable/hydrogen
[[File:Stability_Screenshot8.png]]

*Click Save or Apply

===Step 5: Finish branch creation===

* Approve patch set created in #2 for merge into stable/hydrogen branch
* Master branch enunciated APIs available from 

 https://jenkins.opendaylight.org/<project>/job/<project>-merge/lastSuccessfulBuild/artifact

* Hydrogen APIs available from

 https://jenkins.opendaylight.org/<project>/job/<project>-stable-hydrogen-merge/lastSuccessfulBuild/artifact

===Step 6: How to Cherry Pick Patches from Master to Stable Branch via Gerrit===

*Select the patch that you want to cherry pick from Master to Stable Branch
*Locate the Cherry Pick To button
[[File:Stability_Screenshot9.png]]

*Start to fill in re and select "refs/heads/master"
[[File:Stability_ScreenShot10.png]]

*Click Cherry Pick Change
[[File:Stability_ScreenShot11.png]]
