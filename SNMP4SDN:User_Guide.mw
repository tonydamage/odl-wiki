==Overview and Architecture==
We propose a southbound plugin that can control the off-the-shelf commodity Ethernet switches for the purpose of building SDN using Ethernet switches. For Ethernet switches, forwarding table and ACL are where one can install the flow configuration on, and this is done via SNMP and CLI in the proposed plugin. In addition, extensions to the SAL configuration APIs are needed to provide additional API to support some settings, e.g. disabling STP and flooding, etc, which are required for Ethernet switches in SDN.

[[File:SNMP4SDN_in_ODL_Architecture.jpg|500px]]

'''Figure. SNMP4SDN as a southbound plugin in OpenDaylight architecture'''

===Architecture===
The modules in the plugin are depicted as the following figure, their features exposed to users includes flow configuration, topology discovery, proprietary configurations, statistic retrieving, and switch/port property retrieving. Brief guide is as follows, comprehensive guide could be found [[SNMP4SDN:Developer_Guide#Architecture | here]].

[[File:snmp4sdn_modules.jpg|400px]]

'''Figure. Modules in the SNMP4SDN plugin'''

The exposed functions for users as well as the key design of the modules are shown in the table below. For the service modules, when they need to read or configure the underlying switches via SNMP or CLI, these queries are dealt with the modules SNMPHandler and CLIHandler which directly talk with the switches.

Table.

==Installation Guide==
[[SNMP4SDN:Installation_Guide | Installation Guide]]

==Installation Troubleshooting==
None

==Configuration==
1. Edit the switch list database file, a sample is here. Note that the first line is title and should not be removed.
2. After Hydrogen is launched, in OSGi console, use the command ''s4sReadDB'' to read the switch list database file into SNMP4SDN plugin. 
<pre>
Command: s4sReadDB <filepath>
For example: s4sReadDB /home/sdnadmin/SwitchDB.txt
</pre>
3. If one’d like to confirm whether the switch list database file is read correctly, use the command ''s4sPrintDB'' to show the database content
<pre>Command: s4sPrintDB</pre>
4. Initial topology discovery: use the command ''s4sTopoDiscover'' so that the SNMP4SDN plugin will search and resolve the switches’ topology
<pre>Command: s4sTopoDiscover</pre>

==Tutorial / How-To==
===Topology Discovery===
Step 1 is required only once, Step 2 is also required only once or when one’d like to refresh the topology.
# In OSGi console, execute: s4sReadDB <path>   (show it: s4sPrintDB)
# In OSGi console, execute: s4sTopoDiscover 
# Then one may see the topology in Web GUI, pressing the OpenDaylight icon at the left-top corner

===Flow configurations===
Refer to the Web/Graphical Interface below

==Web / Graphical Interface==
Web GUI: http://<ip_address_of_where_the_controller_is_installed>:8080 (default username/password: admin/admin)
===Show/Refresh the switch topology===
1. Press the OpenDaylight icon at the left-top corner, one can see the switches’ topology.
* The topology may grow from zero to complete when every time pressing the icon, if s4sTopoDiscover was just executed for the first time in OSGi console, it takes a little time to collect the topology completely
* The switches are listed with Node ID as “SNMP|xxxxxx” (xxxxxx is the switch’s MAC address, as specified in the switch list database file. But it is not shown in hexadecimal string due to controller’s limitation. This will be resolved in later)
* If a switch exists in the network but is not listed in the switch list database file, then the switch would not be shown here
2. If the topology are not shown as expected, please do:
* Switch list database file is already read? In OSGi console, execute the command ''s4sReadDB <path>''  (if would like to show it: use the command ''s4sPrintDB'')
* Execute the command ''s4sTopoDiscover'' in OSGi console again
'''Figure'''

===Add flow to switch===
* '''Currently only configurations with SNMP are supported''' (i.e. add/remove entries on switch’s forwarding table).
** '''That is, the effective fields are: Node(switch)/VLAN ID/Destination Mac Address/Action(add output port) [These four items must be given together].''' Other fields are ineffective now.

1. Add flow entry
'''Figure'''

2. Specify the flow’s name and target node
'''Figure'''

3. Specify the VLAN ID and Destination MAC Address
'''Figure'''

4. Specify the Action – Add Output Ports
'''Figure'''

5. Assign the output port
'''Figure''' 

6. One can see the log of the flow adding, in the OSGi console
'''Figure'''

===Remove flow on switch===
*'''Currently only configurations with SNMP are supported''' (i.e. add/remove entries on switch’s forwarding table)
1. Select the flow to be removed
'''Figure''' 

2. You can see the log of the flow removing, in the OSGi console
'''Figure'''

==Command Line Interface==
None

==Console Interface==
None

==Programmatic Interface==
The starting point for developers is [[SNMP4SDN:Installation_Guide#Installation_from_scratch | here]] and [[SNMP4SDN:Developer_Guide | here]].

==Help==
* [[SNMP4SDN:Main | SNMP4SDN Wiki]]
* SNMP4SDN Mailing List ([https://lists.opendaylight.org/mailman/listinfo/snmp4sdn-users user], [https://lists.opendaylight.org/mailman/listinfo/snmp4sdn-dev developer], [https://lists.opendaylight.org/mailman/listinfo/snmp4sdn-bugs bugs], [https://lists.opendaylight.org/mailman/listinfo/snmp4sdn-announce announcement])
