==Installation in OpenDaylight Release ==
* SNMP4SDN's bundle is already packaged in the Hydrogen Release Service Provider Edition, and no further installation steps are required.
* [[Release/Hydrogen/Service Provider/Installation Guide|Service Provider Edition Installation Guide]]

==Troubleshooting==
===Installation Troubleshooting===
===Runtime Troubleshooting===
==== Problem starting SNMP Trap Interface ====
It is possible to get the following exception during controller startup:
 2014-01-31 15:00:44.688 CET [fileinstall-./plugins] WARN  o.o.snmp4sdn.internal.SNMPListener - Problem starting SNMP Trap Interface: {}
 java.net.BindException: Permission denied
        at java.net.PlainDatagramSocketImpl.bind0(Native Method) ~[na:1.7.0_51]
        at java.net.AbstractPlainDatagramSocketImpl.bind(AbstractPlainDatagramSocketImpl.java:95) ~[na:1.7.0_51]
        at java.net.DatagramSocket.bind(DatagramSocket.java:376) ~[na:1.7.0_51]
        at java.net.DatagramSocket.<init>(DatagramSocket.java:231) ~[na:1.7.0_51]
        at java.net.DatagramSocket.<init>(DatagramSocket.java:284) ~[na:1.7.0_51]
        at java.net.DatagramSocket.<init>(DatagramSocket.java:256) ~[na:1.7.0_51]
        at org.snmpj.SNMPTrapReceiverInterface.<init>(SNMPTrapReceiverInterface.java:126) ~[org.snmpj-1.4.3.jar:na]
        at org.snmpj.SNMPTrapReceiverInterface.<init>(SNMPTrapReceiverInterface.java:99) ~[org.snmpj-1.4.3.jar:na]
        at org.opendaylight.snmp4sdn.internal.SNMPListener.<init>(SNMPListener.java:75) ~[bundlefile:na]
        at org.opendaylight.snmp4sdn.core.internal.Controller.start(Controller.java:174) [bundlefile:na]
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.7.0_51]
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.7.0_51]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_51]
        at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_51]
        at org.apache.felix.dm.InvocationUtil.invokeMethod(InvocationUtil.java:111) [bundlefile:na]
        at org.apache.felix.dm.InvocationUtil.invokeCallbackMethod(InvocationUtil.java:66) [bundlefile:na]
        at org.apache.felix.dm.impl.ComponentImpl.invokeCallbackMethod(ComponentImpl.java:688) [bundlefile:na]
        at org.apache.felix.dm.impl.ComponentImpl.invoke(ComponentImpl.java:679) [bundlefile:na]
        at org.apache.felix.dm.impl.ComponentImpl.bindService(ComponentImpl.java:624) [bundlefile:na]
        at org.apache.felix.dm.impl.ComponentImpl.access$400(ComponentImpl.java:52) [bundlefile:na]
        at org.apache.felix.dm.impl.ComponentImpl$7.run(ComponentImpl.java:181) [bundlefile:na]
        at org.apache.felix.dm.impl.SerialExecutor$1.run(SerialExecutor.java:47) [bundlefile:na]
        at org.apache.felix.dm.impl.SerialExecutor.scheduleNext(SerialExecutor.java:84) [bundlefile:na]
        at org.apache.felix.dm.impl.SerialExecutor.access$000(SerialExecutor.java:33) [bundlefile:na]
        at org.apache.felix.dm.impl.SerialExecutor$1.run(SerialExecutor.java:50) [bundlefile:na]
        at org.apache.felix.dm.impl.SerialExecutor.scheduleNext(SerialExecutor.java:84) [bundlefile:na]
        at org.apache.felix.dm.impl.SerialExecutor.execute(SerialExecutor.java:68) [bundlefile:na]
        at org.apache.felix.dm.impl.ComponentImpl.calculateStateChanges(ComponentImpl.java:231) [bundlefile:na]
        at org.apache.felix.dm.impl.ComponentImpl.start(ComponentImpl.java:399) [bundlefile:na]
        at org.apache.felix.dm.DependencyManager.add(DependencyManager.java:169) [bundlefile:na]
        at org.opendaylight.controller.sal.core.ComponentActivatorAbstractBase.start(ComponentActivatorAbstractBase.java:346) [bundlefile:na]
        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711) [org.eclipse.osgi-3.8.1.v20120830-144521.jar:na]
        at java.security.AccessController.doPrivileged(Native Method) [na:1.7.0_51]
        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702) [org.eclipse.osgi-3.8.1.v20120830-144521.jar:na]
        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683) [org.eclipse.osgi-3.8.1.v20120830-144521.jar:na]
        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381) [org.eclipse.osgi-3.8.1.v20120830-144521.jar:na]
        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300) [org.eclipse.osgi-3.8.1.v20120830-144521.jar:na]
        at org.apache.felix.fileinstall.internal.DirectoryWatcher.process(DirectoryWatcher.java:1175) [org.apache.felix.fileinstall-3.1.6.jar:na]
        at org.apache.felix.fileinstall.internal.DirectoryWatcher.process(DirectoryWatcher.java:1153) [org.apache.felix.fileinstall-3.1.6.jar:na]
        at org.apache.felix.fileinstall.internal.DirectoryWatcher.processAllBundles(DirectoryWatcher.java:1146) [org.apache.felix.fileinstall-3.1.6.jar:na]
        at org.apache.felix.fileinstall.internal.DirectoryWatcher.process(DirectoryWatcher.java:456) [org.apache.felix.fileinstall-3.1.6.jar:na]
        at org.apache.felix.fileinstall.internal.DirectoryWatcher.run(DirectoryWatcher.java:263) [org.apache.felix.fileinstall-3.1.6.jar:na]

This indicates that the controller is being run as a user which does not have sufficient OS privileges to bind the SNMPTRAP port (162/UDP)

== Installation from source ==
=== Install Controller and Eclipse ===
Go through the installation for the Controller and Eclipse first:
[[OpenDaylight_Controller:Installation|Controller Installation]
https://wiki.opendaylight.org/view/OpenDaylight_Controller:Eclipse_CLI_Setup

=== Pull code via git CLI ===
<pre>
git clone ssh://<username>@git.opendaylight.org:29418/snmp4sdn.git
</pre>
or
<pre>
git clone https://git.opendaylight.org/gerrit/p/snmp4sdn.git
</pre>

=== Build the code ===
One may build the code in console or using Eclipse, as follows.

==== Build the code in console ====
<pre>
cd snmp4sdn/
mvn clean install
</pre>

==== Import and build the code in Eclipse ====

==== Import the code ====
Eclipse --> File --> Import --> Existing Maven Projects <br>
--> Root Directory: Browse to select the SNMP4SDN's directory <br>
--> Selects all the Project POMs found --> ... Done

===== Build the code =====
On the project "snmp4sdn" --> Debug As --> Maven build

=== Test the code ===
====Manual modifications to the code====
* Requirement: a subnet consisting of real Ethernet switches, for testing.

(For the files mentioned below, they are located somewhere under snmp4sdn's directory.)

1. Edit the [[:File:SwitchDB.txt|SwitchDB.txt]] for the Ethernet switches. (Note that the first line is title and should not be removed)

2. In CmethUtil.java, modify the file path to SwitchDB.txt.

3. In the FlowProgrammerServiceTest.java and DiscoveryServiceTest.java, remove the mark in front of "@Test" so that the tests will proceed when building the code.

4. In the FlowProgrammerServiceTest.java and DiscoveryServiceTest.java, the MAC address given to input to addNewSwitch() should be consistent with that in switch_login_db.csv, otherwise the program cannot know the mapped IP address and so on.

====Plugin test====
Steps:

1. Build the code (as described above)

2. Start the controller and wait until its initialization done.

3. Using the command "ss snmp" to see whether the SNMP4SDN plugin has been started. It should appear like this:<br>
"ACTIVATED org.opendaylight.snmp4sdn.snmp4sdn-x.x.x-SNAPSHOT.jar"

4. Manually reboot a Ethernet switch (this switch should have been listed in the switch_login_db.csv), and later this switch will be shown in the web GUI.

===Unit test===
Steps:

1. Build the code (as described above)

2. Unit tests would show up during the building. The summary of test results should appear like these:<br>
At the end of every module's unit tests:<br>
Tests run: XX, Failures: XX, Errors: XX, Skipped: XX, Time elapsed: XX sec - in org.opendaylight.snmp4sdn.internal.XXXTest

At the end of all modules' tests:<br>
Results :<br>
Tests run: XX, Failures: XX, Errors: XX, Skipped: XX
