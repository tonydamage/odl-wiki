{| align="right" border="1"
|align="center"|'''OpenDaylight VTN Coordinator Web API Reference Contents'''
|-
|[[OpenDaylight Virtual Tenant Network (VTN):VTNCoordinator:RestApi:Label|<<Back To Label]]<br>
|}


= About =
This Page will list the REST API to add/update/delete vBridge(s) to [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator|VTN Coordinator]]
 
 
= List of Functions Supported =
 
== Create vBridge ==
This operation is used to create a vBridge.
 
=== Request ===
 
{| class="wikitable"
|-
| Method || POST
|-
| Request URI   ||
* XML format
 /vtns/{vtn_name}/vbridges.xml
* JSON format
 /vtns/{vtn_name}/vbridges.json
|-
| Request Body (XML)  ||
  <vbridge vbr_name="{vbr_name}"
   controller_id="{controller_id}"
   description="{description}"
   domain_id="{domain_id}"/>
|-
| Request Body (JSON) ||
  {
        "vbridge": {
            "vbr_name": "{vbr_name}",
            "controller_id":
          "{controller_id}",
            "description":
          "{description}",
            "domain_id": "{domain_id}"
             }
   }
|}

====Description of Request URI Elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| vtn_name   || VTN name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning). 
|| Yes
|}

====Description of request elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| vbr_name   || vBridge name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|| Yes
|-
| controller_id || 
Identifier of the Controller.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|| Yes
|-
|description || Additional information.
Valid value: A string of up
to 127 characters.
|| No
|-
|domain_id || domain_id Domain identifier.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning) and the string -
(DEFAULT).
Note: The value of
domain_id is case
sensitive.
|| Yes
|}

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].
 
==== Response Body ====
:None

=== Example ===
{| class="wikitable"
|-
| curl -v -X POST -H 'content-type: application/json' -H 'username: admin' -H 'password: adminpass' -H 'ipaddr:127.0.0.1'   -d '{"vbridge" : {"vbr_name":"vbr_one","controller_id":"controllerone","domain_id":"(DEFAULT)" }}' http://127.0.0.1:8080/vtn-webapi/vtns/vtn_one/vbridges.json
|}

==Delete vBridge==
This operation is used to delete a vBridge.

===Request===

{| class="wikitable"
|-
| Method || DELETE
|-
| Request URI   || 
* XML format
 /vtns/{vtn_name}/vbridges/{vbr_name}.xml
* JSON format
 /vtns/{vtn_name}/vbridges/{vbr_name}.json
|}


====Description of Request URI Elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| vtn_name   || VTN name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning). 
|| Yes
|-
|vbr_name || vBridge name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|| Yes
|}
Remember: vBridge whose Interface is set in if1_name or if2_name of vLink cannot be deleted.

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].
 
==== Response Body ====
:None


=== Example ===
{| class="wikitable"
|-
| curl -v -X DELETE -H 'content-type: application/json' -H 'username: admin' -H 'password: adminpass' -H 'ipaddr:127.0.0.1' http://127.0.0.1:8081/vtn-webapi/vtns/vtn_one/vbridges/vbr_one.json
|}

==Update vBridge==
This operation is used to update a vBridge.

=== Request ===
 
{| class="wikitable"
|-
| Method || PUT
|-
| Request URI   || 
* XML format
 /vtns/{vtn_name}/vbridges/{vbr_name}.xml
* JSON format
 /vtns/{vtn_name}/vbridges/{vbr_name}.json
|-
| Request Body (XML)  ||
  <vbridge
   controller_id="{controller_id}"
   description="{description}"
   domain_id="{domain_id}"/>
|-
| Request Body (JSON) ||
  {
       "vbridge": {
            "controller_id":
     "{controller_id}",
            "description":
     "{description}",
            "domain_id": "{domain_id}"
          }
  }
|}

====Description of Request URI Elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| vtn_name   || VTN name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning). 
|| Yes
|-
|vbr_name || vBridge name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and underscore (except at the
beginning).
|| Yes
|}

====Description of request elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| controller_id || 
Identifier of the Controller.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|| No
|-
|description || Additional information.
Valid value: A string of up
to 127 characters.
|| No
|-
|domain_id || domain_id Domain identifier.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning) and the string -
(DEFAULT).
Note: The value of
domain_id is case
sensitive.
|| No
|}

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].
 
==== Response Body ====
:None



=== Example ===
{| class="wikitable"
|-
| curl -v -X PUT -H 'content-type: application/json' -H 'username: admin' -H 'password: adminpass' -H 'ipaddr:127.0.0.1'
-d '{"vbridge":{"controller_id":"{controllerone}","description":"{description}","domain_id": "{domain_id}"}}' http://127.0.0.1:8080/vtn-webapi/vtns/vtn_one/vbridges/vbr_one.json
|}

==List vBridge==
This operation is used to list vBridge information based on specified conditions.

=== Request ===
 
{| class="wikitable"
|-
| Method || GET
|-
| Request URI   || 
* XML format
 /vtns/{vtn_name}/vbridges.xml
 /vtns/{vtn_name}/vbridges/detail.xml
 /vtns/{vtn_name}/vbridges/count.xml
* JSON format
 /vtns/{vtn_name}/vbridges.json
 /vtns/{vtn_name}/vbridges/detail.json
 /vtns/{vtn_name}/vbridges/count.json
|-
| Query string ||
 ?index={vbr_name}&max_repetition={max_repetition}
|}


====Request Body====
:None

====Description of Request URI Elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| vtn_name   || VTN name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning). 
|| Yes
|}

====Description of Query String Elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| vbr_name   || vBridge name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|| No
|-
| max_repetetion || Number of the resources
that are returned.
Valid value: A positive
integer
Valid range: 1 to MAX of
UINT32. Default is 10000.
|| No
|}

===Response===

{| class="wikitable"
|-
| Response Body (XML)  ||
 If detail or count is not specified in URI
 <?xml version="1.0"
  encoding="UTF-8"
  standalone="yes"?>
 <vbridges>
    <vbridge
   vbr_name="{vbr_name}"/>
 </vbridges>
If detail is specified in URI
 <?xml version="1.0"
  encoding="UTF-8"
  standalone="yes"?>
 <vbridges>
     <vbridge vbr_name="{vbr_name}"
  controller_id="{controller_id}"
  description="{description}"
  domain_id="{domain_id}"
  status="{status}"></vbridge>
 </vbridges>
If count is specified in URI
 <?xml version="1.0"
  encoding="UTF-8"
  standalone="yes"?>
 <vbridges count="{count}"/>
|-
| Response Body (JSON) ||
 If detail or count is not specified in URI
 {
   "vbridges": [
       {
         "vbr_name":
    "{vbr_name}"
       }
     ]
  }
If detail is specified in URI
 {
   "vbridges": [
      {
          "vbr_name":
      "{vbr_name}",
          "controller_id":
      "{controller_id}",
          "description":
      "{description}",
          "status": "{status}",
          "domain_id":
      "{domain_id}"
       }
     ]
 }
If count is specified in URI
   {
   "vbridges": {
       "count": "{count}"
         }
    }
|}
====Description of response elements====

{| class="wikitable"
|-
| Element || Description 
|-
| controller_id || 
Identifier of the Controller.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|-
|description || Additional information.
Valid value: A string of up
to 127 characters.
|-
|domain_id || domain_id Domain identifier.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning) and the string -
(DEFAULT).
Note: The value of
domain_id is case
sensitive.
|-
|status || vBridge status.
Valid value: up, down,
unknown
|-
|vbr_name || vBridge name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|-
| count || The number of vBridge.
Valid value: A positive integer.
|}


=== Example ===
{| class="wikitable"
|-
| curl -v -X GET -H 'content-type: application/json' -H 'username: admin' -H 'password: adminpass' -H 'ipaddr:127.0.0.1' http://127.0.0.1:8081/vtn-webapi/vtns/vtn_one/vbridges.json
|}

==Show vBridge==
This operation is used to view a specific vBridge information.

===Request===
{| class="wikitable"
|-
| Method || GET
|-
| Request URI   || /vtns/{vtn_name}/vbridges/{vbr_name}
/vtns/{vtn_name}/vbridges/{vbr_name}/detail
|}

====Request Body====
:None

====Description of Request URI Elements====

{| class="wikitable"
|-
| Element || Description || Required
|-
| vtn_name   || VTN name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning). 
|| Yes
|-
| vbr_name ||  vBridge name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|| Yes
|}

===Response===
{| class="wikitable"
|-
| Response Body (XML)  ||
 <?xml version="1.0"
  encoding="UTF-8"
  standalone="yes"?>
 <vbridge vbr_name="{vbr_name}"
  controller_id="{controller_id}"
  description="{description}"
  status="{status}"
  domain_id="{domain_id}"> 
 </vbridge>
|-
| Response Body (JSON format) ||
  {
    "vbridge": {
         "vbr_name": "{vbr_name}",
         "controller_id":
    "{controller_id}",
         "description":
    "{description}",
         "status": "{status}",
    "domain_id": "{domain_id}"
    }
   }
|}

====Description of response elements====

{| class="wikitable"
|-
| Element || Description 
|-
| controller_id || 
Identifier of the Controller.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|-
|description || Additional information.
Valid value: A string of up
to 127 characters.
|-
|domain_id || domain_id Domain identifier.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning) and the string -
(DEFAULT).
Note: The value of
domain_id is case
sensitive.
|-
|status || vBridge status.
Valid value: up, down,
unknown
|-
|vbr_name || vBridge name.
Valid value: Up to 31
characters that can include
alphabets, numbers, and
underscore (except at the
beginning).
|-
| count || The number of vBridge.
Valid value: A positive integer.
|}


=== Example ===
{| class="wikitable"
|-
| curl -v -X GET -H 'content-type: application/json' -H 'username: admin' -H 'password: adminpass' -H 'ipaddr:127.0.0.1' http://127.0.0.1:8081/vtn-webapi/vtns/vtn_one/vbridges.json
|}

[[Category:OpenDaylight Virtual Tenant Network]]
