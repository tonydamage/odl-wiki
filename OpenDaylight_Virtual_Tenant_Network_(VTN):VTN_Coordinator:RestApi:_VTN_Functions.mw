{| align="right" border="1"
|align="center"|'''Related Pages'''
|-
|
* [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|Introduction]]<br>
* [[OpenDaylight_Virtual_Tenant_Network_(VTN):VTN_Coordinator:RestApi#VTNCoordinator_RestApi_Contents|VTN Coordinator RestApi Contents]]<br>
* [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:VTN Station Functions|VTN Station functions]]<br>
* [[OpenDaylight Virtual Tenant Network (VTN):VTNCoordinator:RestApi:VTN Flow Filter Functions|VTN Flow Filter functions]]<br>
* [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi: vBridge Functions|vBridge Functions]]<br>
* [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:vLink Functions|vLink functions]]<br>
* [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi:vRouter functions|vRouter functions]]<br>
* [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi:L2 Network Example Using VTN Virtualization|L2 Network Example Using VTN Virtualization]]
|}

= About =
This Page will list the REST API to create/update/delete VTN(s) to [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator|VTN Coordinator]]
 
= List of Functions Supported =
== Create VTN ==
This operation is used to create a VTN.
=== Request ===
 {| class="wikitable"
|-
| Method || POST
|-
| Request URI   || 
* XML format
 /vtns.xml
* JSON format
 /vtns.json
|-
| Request Body (XML)  ||
  <vtn vtn_name="{vtn_name}"
  description="{description}"/>
|-
| Request Body (JSON) ||
 {
   "vtn": {
   "vtn_name": "{vtn_name}",
   "description":
   "{description}"
   }
 }
|}


; Description of Request Elements 
{| class="wikitable"
|-
| Element || Description || Required
|-
|vtn_name || VTN name Valid value: Up to 31 characters that can include alphabets, numbers, and underscore (except at the beginning). 
||Yes
|-
|description || A small description text for the VTN.
Valid value: A string of up to 127 characters. 
||No
|}

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].

; Response Body 
:None

; Example 
{| class="wikitable"
|-
| curl -v --user admin:adminpass -H 'content-type: application/json' -H 'ipaddr:127.0.0.1' -X POST -d '{"vtn" : {"vtn_name":"vtn_one","description":"test VTN" }}' http://127.0.0.1:8083/vtn-webapi/vtns.json
|-
|}

==Delete VTN ==
This operation is used to delete a VTN.

===Request===

{| class="wikitable"
|-
| Method || DELETE
|-
| Request URI   || 
* XML format
 /vtns/{vtn_name}.xml
* JSON format
 /vtns/{vtn_name}.json
|}

; Description of Request Elements 
{| class="wikitable"
|-
| Element || Description || Required
|-
|vtn_name || VTN name Valid value: Up to 31 characters that can include alphabets, numbers, and underscore (except at the beginning). 
||Yes
|}

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].
 
;Response Body 
:None

; Example
{| class="wikitable"
|-
| curl -v --user admin:adminpass -H 'content-type: application/json' -X DELETE -H 'ipaddr:127.0.0.1' http://127.0.0.1:8083/vtn-webapi/vtns/vtn_one
|-
|}

==Update VTN ==
This operation is used to update a VTN.

===Request===

{| class="wikitable"
|-
| Method || PUT
|-
| Request URI   || 
* XML format
 /vtns/{vtn_name}.xml
* JSON format
 /vtns/{vtn_name}.json
|-
| Request Body (XML)  ||
  <vtn description="{description}"/>
|-
| Request Body (JSON) ||
 {
   "vtn": {
   "description":
   "{description}"
   }
 }
|}



;Description of Request URI Elements

{| class="wikitable"
|-
| Element || Description || Required
|-
|vtn_name || VTN name Valid value: Up to 31 characters that can include alphabets, numbers, and underscore (except at the beginning). 
||Yes
|}

;Description of Request Elements
{|class = "wikitable"
|-
|description || A small description text for the VTN.
Valid value: A string of up to 127 characters. 
||No
|}

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].

;Response Body 
:None


;Example
{| class="wikitable"
|-
| curl -v --user admin:adminpass -H 'content-type: application/json' -H 'ipaddr:127.0.0.1' -X PUT -d '{"vtn" : {"vtn_name":"vtn_one","description":"test VTN123" }}' http://127.0.0.1:8083/vtn-webapi/vtns/vtns.json
|-
|}

==List VTNs ==
This operation is used to list VTN information based on specified conditions.


===Request===

{| class="wikitable"
|-
| Method || GET
|-
| Request URI   || 
* XML format
 /vtns.xml
 /vtns/detail.xml
 /vtns/count.xml
* JSON format
 /vtns.json
 /vtns/detail.json
 /vtns/count.json
|- 
| Query string ||
 ?index={vtn_name}&max_repetition={max_repetition}
|}
;Description of query string elements

{| class="wikitable"
|-
| Element || Description || Required
|-
|vtn_name || VTN name Valid value: Up to 31 characters that can include alphabets, numbers, and underscore (except at the beginning). 
||Yes
|-
|max_repetetion || Number of the resources that are returned.Valid value: A positive integer Valid range: 1 to MAX of UINT32. Default is 10000
||No
|}

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].
 
;Response Body 
{| class="wikitable"
|-
| Response Body (XML)  ||
If count or detail is not specified in URI
  <?xml version="1.0"
   encoding="UTF-8"
   standalone="yes"?>
  <vtns>
      <vtn vtn_name="{vtn_name}"/>
  </vtns>
If detail is specified in URI
 <?xml version="1.0"
  encoding="UTF-8"
  standalone="yes"?>
 <vtns>
     <vtn vtn_name="{vtn_name}"
   description="{description}"
   operstatus="{operstatus}"
   createdtime="{createdtime}"
   lastcommittedtime="{lastcommittedtime}"
   alarmstatus="{alarmstatus}"/>
 </vtns>
If count is specified in URI
 <?xml version="1.0"
  encoding="UTF-8"
  standalone="yes"?>
 <vtns count="{count}"/>
|-
| Request Body (JSON) ||
If count or detail is not specified in URI
 {
   "vtns": [
   {"vtn_name":
   "{vtn_name}"
   }
   ]  
 } 
If detail is specified in URI
 {
   "vtns": [
     {
               "vtn_name":
    "{vtn_name}",
               "description":
    "{description}",
               "operstatus":
    "{operstatus}",
               "createdtime":
    "{createdtime}",
               "lastcommittedtime":
    "{lastcommittedtime}",
               "alarmstatus":
    "{alarmstatus}"
       }
   ]
 }
If count is specified in URI
 {
   "vtns": {
       "count": "{count}"
   }
 }
|}

;Description of Response Elements

{| class="wikitable"
|-
| Element || Description 
|-
|vtn_name || VTN name Valid value: Up to 31 characters that can include alphabets, numbers, and underscore (except at the beginning). 
|-
|description ||A small description text for the VTN.
Valid value: A string of up to 127 characters. 
|-
|operstatus || Operational status. Valid value: up, down,unknown.
|-
|createdtime || Number of seconds that have passed since last create. Valid value: UNIX time (The elapsed time in seconds since 00:00:00 UTC, 1 January, 1970) will be returned.
|-
|lastcommittedtime || Number of seconds that have passed since last commit.Valid value: UNIX time (The elapsed time in seconds since 00:00:00 UTC, 1 January,1970) will be returned.
|-
|alarmstatus  || Alarm status.Valid value: clear, raise
|-
|count || Number of VTN
|}



;Example
{| class="wikitable"
|-
| curl -v --user admin:adminpass -H 'content-type: application/json' -X GET -H 'ipaddr:127.0.0.1' http://127.0.0.1:8083/vtn-webapi/vtns.json
|-
|}

== Show VTNs ==
This operation is used to view a specific VTN information.

=== Request ===
 
{| class="wikitable"
|-
| Method || GET
|-
| Request URI   || 
* XML format
 /vtns/{vtn_name}.xml
* JSON format
 /vtns/{vtn_name}.json
|}

;Description of Request Elements


{| class="wikitable"
|-
| Element || Description || Required
|-
|vtn_name || VTN name Valid value: Up to 31 characters that can include alphabets, numbers, and underscore (except at the beginning). 
||Yes
|}

=== Response ===

: The Response returned will be one of the values in the [[OpenDaylight Virtual Tenant Network (VTN):VTN Coordinator:RestApi|List of response Codes]].

;Response Body
{| class="wikitable"
|-
| Response Body (XML)  ||
  <?xml version="1.0"
   encoding="UTF-8"
   standalone="yes"?>
  <vtn vtn_name="{vtn_name}"
   description="{description}"
   operstatus="{operstatus}"
   createdtime="{createdtime}"
   lastcommittedtime="{lastcommittedtime}"
   alarmstatus="{alarmstatus}"/>
|-
| Request Body (JSON) ||
  {
    "vtn": {
        "vtn_name": "{vtn_name}",
        "description":
   "{description}",
        "operstatus":
   "{operstatus}",
        "createdtime":
   "{createdtime}",
        "lastcommittedtime":
   "{lastcommittedtime}",
        "alarmstatus":
   "{alarmstatus}"
      }
 }
|}

;Description of Response Elements 
{| class="wikitable"
|-
| Element || Description 
|-
|vtn_name || VTN name Valid value: Up to 31 characters that can include alphabets, numbers, and underscore (except at the beginning). 
|-
|description ||A small description text for the VTN.
Valid value: A string of up to 127 characters. 
|-
|operstatus || Operational status. Valid value: up, down,unknown.
|-
|createdtime || Number of seconds that have passed since last create. Valid value: UNIX time (The elapsed time in seconds since 00:00:00 UTC, 1 January, 1970) will be returned.
|-
|lastcommittedtime || Number of seconds that have passed since last commit.Valid value: UNIX time (The elapsed time in seconds since 00:00:00 UTC, 1 January,1970) will be returned.
|-
|alarmstatus  || Alarm status.Valid value: clear, raise
|}


;Example
{| class="wikitable"
|-
| curl -v --user admin:adminpass -H 'content-type: application/json' -X GET -H 'ipaddr:127.0.0.1' http://127.0.0.1:8083/vtn-webapi/vtns/vtn_one

|-
|}

[[Category:OpenDaylight Virtual Tenant Network]]
